<% if @hdfs_hostname -%>
spark.eventLog.enabled=true
spark.eventLog.dir=hdfs://<%= @hdfs_hostname -%>/user/spark/applicationHistory
<% if @jar_enable -%>
spark.yarn.jar=hdfs://<%= @hdfs_hostname -%>/user/spark/share/lib/spark-assembly.jar
<% end -%>
<% if @yarn_enable -%>
spark.master=yarn
<% end -%>
<% end -%>
<% properties = scope.lookupvar('spark::_properties').select { |name,value| not (name =~ /^spark\.history\./) and value != '::undef' } -%>
<% properties.keys.each do |p| -%>
<%= p -%>=<%= scope.lookupvar('spark::_properties')[p] %>
<% end -%>
